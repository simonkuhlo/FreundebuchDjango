{% extends "book_explorer/parts/custom_fields/custom_field_frame.html" %}

{% block field_display %}
    Canvas renderer goes here
{% endblock %}

{% block field_editor %}
    <input type="hidden" id="custom_field_type" name="custom_field_type" value="canvas"/>
    <!-- Trigger button -->
    <button id="openPopup">Open popup</button>

    <!-- Overlay + popup -->
    <div id="overlay">
      <div class="popup">
        <h2>My Popup</h2>
        <p>This popup is in front of the main screen.</p>
        <button id="closePopup">Close</button>
      </div>
    </div>
    <style>
            /* Hide overlay by default */
        #overlay {
          position: fixed;          /* Stay in same place while scrolling */
          top: 0;
          left: 0;
          width: 100vw;             /* Full viewport width */
          height: 100vh;            /* Full viewport height */
          background: rgba(0, 0, 0, 0.5); /* Dark transparent background */
          display: none;            /* Hidden initially */
          align-items: center;      /* Center popup vertically */
          justify-content: center;  /* Center popup horizontally */
          z-index: 9999;            /* In front of all other content */
        }

        /* The popup box */
        .popup {
          background: #fff;
          padding: 20px;
          border-radius: 8px;
          max-width: 400px;
          width: 90%;
          box-shadow: 0 0 15px rgba(0,0,0,0.3);
        }
    </style>
    <script>
        const overlay = document.getElementById('overlay');
        document.getElementById('openPopup').onclick = () => overlay.style.display = 'flex';
        document.getElementById('closePopup').onclick = () => overlay.style.display = 'none';
    </script>


{% endblock %}