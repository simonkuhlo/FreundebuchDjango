<div class="entry-element" id="image">
    {% if edit_mode %}
        <label for="image_input">
            <img id="imagePreview" src="{% if entry %}{% if entry.image %} value={{ entry.image.url }} {% endif %}{% endif %}" alt="Upload Image">
        </label>
        <input type="file" id="image_input" name="image" accept="image/*" style="display: none">
    {% else %}
        {% if entry.image %}
            <img src="{{ entry.image.url }}" alt="No Image found">
        {% endif %}
    {% endif %}
</div>
<script>
  const fileInput = document.getElementById('image_input');
  const preview   = document.getElementById('imagePreview');

  fileInput.addEventListener('change', function () {
    const file = this.files[0];
    if (!file) {
      preview.style.display = 'none';
      preview.src = '';
      return;
    }

    // Quick, memoryâ€‘cheap preview
    const url = URL.createObjectURL(file);
    preview.src = url;
  });
</script>